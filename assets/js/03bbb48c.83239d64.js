"use strict";(self.webpackChunkhab_guide=self.webpackChunkhab_guide||[]).push([[5172],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),h=o,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||a;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},9032:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:13},i="Tear-down Live Hosts",s={unversionedId:"l1-hosts/fin",id:"l1-hosts/fin",title:"Tear-down Live Hosts",description:"We now come to the first applicable teardown script. This script undoes all the",source:"@site/docs/l1-hosts/fin.md",sourceDirName:"l1-hosts",slug:"/l1-hosts/fin",permalink:"/hab-guide/docs/l1-hosts/fin",draft:!1,editUrl:"https://github.com/GildedPleb/hab-guide/edit/master/docs/l1-hosts/fin.md",tags:[],version:"current",lastUpdatedBy:"GildedPleb",lastUpdatedAt:1674979281,formattedLastUpdatedAt:"Jan 29, 2023",sidebarPosition:13,frontMatter:{sidebar_position:13},sidebar:"tutorialSidebar",previous:{title:"Stand-up Live Hosts",permalink:"/hab-guide/docs/l1-hosts/live-hosts"},next:{title:"Layer 2 - K3s",permalink:"/hab-guide/docs/category/layer-2---k3s"}},l={},p=[{value:"Hosts Are Finished",id:"hosts-are-finished",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"tear-down-live-hosts"},"Tear-down Live Hosts"),(0,o.kt)("p",null,"We now come to the first applicable teardown script. This script undoes all the\nwork that the ",(0,o.kt)("inlineCode",{parentName:"p"},"standup-live")," script does and returns hosts to a vanilla state.\nThis is important to have if we plan on changing the host plan."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"apb Hosts/teardown-live.yml\n")),(0,o.kt)("p",null,"And it has the option for tearing down individual live hosts, without tearing\nthem all down:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'apb Hosts/teardown-live.yml -e "killhosts=pi4,pi5"\n')),(0,o.kt)("p",null,"You probably only need to do this if you need low-security host access restored,\nand don't want to re-image, the host is in need of deep maintenance, or if you\nwant to re-organize your cluster roles. Be it unlikely, it is also essential for\na clean host exit in the case of exercising a\n",(0,o.kt)("a",{parentName:"p",href:"/why#obscure-threat-mitigation--hydra-option"},"Hydra Option"),"."),(0,o.kt)("p",null,"Further, if you are running this command to permanently remove a host from the\ncluster, you will need to comment out that hosts entry on your host plan by\nadding a ",(0,o.kt)("inlineCode",{parentName:"p"},"#")," in front, before running higher commands that rely on all hosts."),(0,o.kt)("h2",{id:"hosts-are-finished"},"Hosts Are Finished"),(0,o.kt)("p",null,"Taking a step back, we now hopefully have a multi-architecture,\nmulti-manufacturer, multi-supply-chain, multi-OS host array. It's not wholly\nunlikely that one component is compromised or on the verge of breaking, it's\nvery unlikely that they all are."),(0,o.kt)("p",null,"You made it. That's it for hosts, from here on out, it's all higher level\nsoftware, staring with the big man on campus, Kubernetes. Get excited!"))}u.isMDXComponent=!0}}]);