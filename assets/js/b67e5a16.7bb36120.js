"use strict";(self.webpackChunkhab_guide=self.webpackChunkhab_guide||[]).push([[3853],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,s=e.originalType,o=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=p(a),h=l,m=c["".concat(o,".").concat(h)]||c[h]||d[h]||s;return a?n.createElement(m,r(r({ref:t},u),{},{components:a})):n.createElement(m,r({ref:t},u))}));function m(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var s=a.length,r=new Array(s);r[0]=h;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[c]="string"==typeof e?e:l,r[1]=i;for(var p=2;p<s;p++)r[p]=a[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},3952:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var n=a(7462),l=(a(7294),a(3905));const s={sidebar_position:10},r="Stand-up Vanilla Recap",i={unversionedId:"l1-hosts/vanilla-recap",id:"l1-hosts/vanilla-recap",title:"Stand-up Vanilla Recap",description:"Before proceeding with live hosts, let's review where we are and what we have",source:"@site/docs/l1-hosts/vanilla-recap.md",sourceDirName:"l1-hosts",slug:"/l1-hosts/vanilla-recap",permalink:"/hab-guide/docs/l1-hosts/vanilla-recap",draft:!1,editUrl:"https://github.com/GildedPleb/hab-guide/edit/master/website/docs/l1-hosts/vanilla-recap.md",tags:[],version:"current",lastUpdatedBy:"GildedPleb",lastUpdatedAt:1672649067,formattedLastUpdatedAt:"Jan 2, 2023",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Stand-up Vanilla Hosts",permalink:"/hab-guide/docs/l1-hosts/vanilla-host"},next:{title:"Ansible Vault",permalink:"/hab-guide/docs/l1-hosts/ansible-vault"}},o={},p=[{value:"Inventory",id:"inventory",level:2},{value:"Review",id:"review",level:2}],u={toc:p};function c(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"stand-up-vanilla-recap"},"Stand-up Vanilla Recap"),(0,l.kt)("p",null,"Before proceeding with live hosts, let's review where we are and what we have\ndone."),(0,l.kt)("h2",{id:"inventory"},"Inventory"),(0,l.kt)("p",null,"Go ahead and open up ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.HAB/inventory/vanilla-hosts"),", if you haven't."),(0,l.kt)("p",null,"You should see something like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="~/.HAB/inventory/vanilla-hosts"',title:'"~/.HAB/inventory/vanilla-hosts"'},'###########################################\n# -*- Complete List of Vanilla Hosts -*- #\n# Editing hosts below is welcome, but be sure to validate after with command: ansible-playbook standup-vanilla-hosts.yml\n# HOWEVER, once you have live hosts, you can do a great deal of damage to your cluster if you edit this file.\n# ONLY EDIT AND VALIDATE BEFORE STANDING UP VANILLA K3S\n# DO NOT EDIT THIS COMMENT BLOCK AND THE FOLLOWING LINE "[vanillahosts]": MANGED BY ANSIBLE!\n############################################\n[vanillahosts]\npi1 ansible_user=pi ansible_ssh_pass=raspberryRaw mac=dc:a6:xx:xx:xx:xx\npi2 ansible_user=pi ansible_ssh_pass=raspberryRaw mac=dc:a6:xx:xx:xx:xx\npi3 ansible_user=pi ansible_ssh_pass=raspberryRaw mac=dc:a6:xx:xx:xx:xx\npi4 ansible_user=pi ansible_ssh_pass=raspberryRaw mac=dc:a6:xx:xx:xx:xx\npi5 ansible_user=pi ansible_ssh_pass=raspberryRaw mac=dc:a6:xx:xx:xx:xx\nnuc1 ansible_user=ubuntu ansible_ssh_pass=ubuntuRaw mac=1c:69:xx:xx:xx:xx\nnuc2 ansible_user=ubuntu ansible_ssh_pass=ubuntuRaw mac=1c:69:xx:xx:xx:xx\n')),(0,l.kt)("p",null,"If all went well, this should be a list of all the machines you expect to be in\nyour cluster, and will be how Ansible interacts with them as vanilla hosts."),(0,l.kt)("h2",{id:"review"},"Review"),(0,l.kt)("p",null,"Congratulations! Making it here is no small feat and as you will see, the steps\nget more and more automated the further we get into software and away from\nhardware. Towards our goal of creating a HAB Node, you should notice that we now\nhave:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Multiple hosts, which is ",(0,l.kt)("em",{parentName:"li"},"essential")," for removing single points of failure in\na HAB node. You should now have checked off a few of the following:",(0,l.kt)("ul",{parentName:"li",className:"contains-task-list"},(0,l.kt)("li",{parentName:"ul",className:"task-list-item"},(0,l.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Multiple physical computers"),(0,l.kt)("li",{parentName:"ul",className:"task-list-item"},(0,l.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Multiple hard drives"),(0,l.kt)("li",{parentName:"ul",className:"task-list-item"},(0,l.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Multiple supply-chain"),(0,l.kt)("li",{parentName:"ul",className:"task-list-item"},(0,l.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Multiple architectures: AMD and ARM"),(0,l.kt)("li",{parentName:"ul",className:"task-list-item"},(0,l.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Multiple OS': Ubuntu / Debian"))),(0,l.kt)("li",{parentName:"ol"},"We also now have DNS mapping for those hosts by name which resolve to IP\naddresses."),(0,l.kt)("li",{parentName:"ol"},"Hostnames by which we can identify hosts in Ansible."),(0,l.kt)("li",{parentName:"ol"},"Usernames and passwords for ssh."),(0,l.kt)("li",{parentName:"ol"},"All software and firmware up-to-date."),(0,l.kt)("li",{parentName:"ol"},"Quality of life improvements automated."),(0,l.kt)("li",{parentName:"ol"},"Infrastructure as Code: If something messes up, it is now trivial to get back\nto working order.")),(0,l.kt)("p",null,"At this point, all machines should be able to have the ",(0,l.kt)("inlineCode",{parentName:"p"},"Hosts/standup-vanilla"),"\nplaybooks run against them and return practically idempotent (non-failing)\nresults."),(0,l.kt)("p",null,"In fact, to ensure that all hosts that have already been stood up are golden,\nyou can and should test it, run:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"apb Hosts/standup-vanilla.yml\n")),(0,l.kt)("p",null,"We are now hardware-ready to stand up ",(0,l.kt)("inlineCode",{parentName:"p"},"live host")," running a Kubernetes cluster."),(0,l.kt)("p",null,"But before we can do that, we first need a secure way to manage authentication\nand a plan for host assignment..."))}c.isMDXComponent=!0}}]);