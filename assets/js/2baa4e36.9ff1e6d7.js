"use strict";(self.webpackChunkhab_guide=self.webpackChunkhab_guide||[]).push([[4947],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),h=i,m=u["".concat(l,".").concat(h)]||u[h]||d[h]||a;return n?o.createElement(m,r(r({ref:t},p),{},{components:n})):o.createElement(m,r({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,r[1]=s;for(var c=2;c<a;c++)r[c]=n[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},2770:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var o=n(7462),i=(n(7294),n(3905));const a={title:"What is a HAB Node"},r="A 30,000-Foot View of a HAB Node",s={type:"mdx",permalink:"/hab-guide/what",source:"@site/src/pages/what.md",title:"What is a HAB Node",description:"What is a Highly Available Bitcoin Node all about?",frontMatter:{title:"What is a HAB Node"}},l=[{value:"Background",id:"background",level:2},{value:"Problem",id:"problem",level:2},{value:"Legacy Solution",id:"legacy-solution",level:2},{value:"Our Solution",id:"our-solution",level:2},{value:"Economic Node Maximalism",id:"economic-node-maximalism",level:2}],c={toc:l};function p(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"a-30000-foot-view-of-a-hab-node"},"A 30,000-Foot View of a HAB Node"),(0,i.kt)("p",null,"What is a Highly Available Bitcoin Node all about?\n",(0,i.kt)("img",{alt:"top view",src:n(2870).Z,width:"2049",height:"1536"})),(0,i.kt)("h2",{id:"background"},"Background"),(0,i.kt)("p",null,"A basic premise for Bitcoin node architecture is \u201cIt is paramount to keep nodes\nas cheap as possible for as long as possible while scaling Bitcoin to ensure\ndecentralization\u201d. This architecture was fought for and was won in the block\nsize wars by\n",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/search?q=%23UASF&src=typed_query&f=live"},"#UASF"),". And it is\nfirst-principle important: aggressively expanding needed L1 resources precludes\nLayer X availability/privacy/sovereignty for those priced out of L1."),(0,i.kt)("p",null,"Now, it is becoming abundantly clear: higher layers will be liquidity streams.\nNot promises of a check once a month\u2026 actual, by-the-second, 24/365,\nbidirectional\n",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/BTCsessions/status/1394875845324328960"},"streams")," of sats."),(0,i.kt)("p",null,"For the pleb, this will be wages; how we put food on the table."),(0,i.kt)("h2",{id:"problem"},"Problem"),(0,i.kt)("p",null,"So we will soon have a new problem for the base layer node: L1 downtime for an\never expanding income generating app ecosystem will begin to mean either\nsacrifices to liquidity (aka, food on the table) or sacrifices to\nprivacy/sovereignty."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Both are intolerable.")),(0,i.kt)("p",null,"Not to mention that downtime for any one node, say a raspberry pi + hard drive,\nmight mean re-syncing the entire blockchain after replacing a hard drive,\npotentially weeks of lost income. But it gets worse still: What if downtime is\nnot from hard drive failure, but from\n",(0,i.kt)("a",{parentName:"p",href:"https://twitter.com/BitcoinErrorLog/status/1590084782196944896?s=20&t=aRMlukKrzwBbPG6o2GCYAg"},"zero-days in Bitcoin Core"),"\nitself? Then what do all the single node operating, non-technical plebs do?"),(0,i.kt)("p",null,"Well, then we could really be in trouble."),(0,i.kt)("h2",{id:"legacy-solution"},"Legacy Solution"),(0,i.kt)("p",null,"What is needed is the ability to diversify away Bitcoin version/implementation\nrisk, hardware failure risk, networking risk, power risk, and a slew of other\nchoke-points also putting our nodes at risk\u2014because that is the root issue:\nsingle points of failure in the node itself. The good news is that this is\n",(0,i.kt)("a",{parentName:"p",href:"https://www.flickr.com/photos/jurvetson/157722937/"},"not a new problem"),". This is\na perennial problem for all server architecture. All servers have to eliminate\nsingle points of failure to keep uptime as high as possible. And many lessons\nhave been learned over the years."),(0,i.kt)("p",null,"Today, there is a robust and battle tested solution: Clustering +\nContainerization + Orchestration. Use light VMs on a cluster of distributed\ncomputers, and software orchestration to \u2018move\u2019 those VMs around the cluster\naccording to availability. Let\u2019s state that cleanly for the uninitialized:\nClustering + Containerization + Orchestration allows a software abstraction\nlayer for hardware and software, alike. It effectively divorces software from\nhardware and software."),(0,i.kt)("p",null,"Bye bye, single points of failure."),(0,i.kt)("p",null,"The industry-leading project built explicitly to do this is\n",(0,i.kt)("a",{parentName:"p",href:"https://www.flickr.com/photos/jurvetson/157722937/"},"Kubernetes")," (aka k8s) which\nhas 100,000+ commits, 3000+ contributors, 10+ years of experience to draw from,\nand yes, it's FOSS. K8s doesn\u2019t get a lot of rep outside of niche DevOps/SRE\ndiscussions, so, let us put it in terms digestible for all Bitcoiners: K8s\npresently defends more in legacy value than Bitcoin does in new value\u2026\n",(0,i.kt)("a",{parentName:"p",href:"https://landscape.cncf.io/card-mode?grouping=no&sort=amount"},"Trillions (with a \u201cT\u201d) more"),"."),(0,i.kt)("p",null,"Practically speaking, it\u2019s likely that you are reading this because of k8s\nsomewhere in the stack of infrastructure delivering you this information."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"The Cloud ",(0,i.kt)("em",{parentName:"strong"},"is")," Kubernetes.")),(0,i.kt)("h2",{id:"our-solution"},"Our Solution"),(0,i.kt)("p",null,"Let\u2019s bring it back to Bitcoin nodes:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Because cheap nodes won in the block wars,"),(0,i.kt)("li",{parentName:"ol"},"It\u2019s inexpensive to run one full node ($200 SBC + $100 SSD), and"),(0,i.kt)("li",{parentName:"ol"},"It\u2019s still cheaper to run many nodes than to buy an Apple MacBook ($300 ","*"," 3\n< ~$1k). ",(0,i.kt)("img",{alt:"MacBook Air vs Clustered SBC",src:n(2107).Z,width:"1543",height:"1012"})),(0,i.kt)("li",{parentName:"ol"},"Which means, pleb-run Bitcoin Node architecture is eligible to implement\nnodes with battle tested, clustered, industry leading k8s to make said pleb\nnodes highly fault-tolerant micro clouds. Solving the issue of higher layer\nliquidity events far in advance of the coming need to do so.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Caveats"),": k8s is not easy. Computers pushing computers around computer\nnetworks while themselves also being pushed around said networks is\nmind-boggling; attack surface multiplication is real. Lose of funds may happen.\nCaveat Emptor."),(0,i.kt)("p",null,"But, trillions in legacy value makes this trade every day; k8s problems have\nrepeatable, best-practice solutions. The upside for us is that we get\nindustrially defended pleb nodes, impervious to downtime, and resistant to\nliquidity events."),(0,i.kt)("h2",{id:"economic-node-maximalism"},"Economic Node Maximalism"),(0,i.kt)("p",null,"To be explicitly clear: using k8s, a Bitcoin node could run on an RPi, a NUC,\nand any other Linux capable device, all orchestrated together, in different\nlocations, and controlled by one pleb. If one host is compromised, the Bitcoin\nnode continues on unabated for the pleb."),(0,i.kt)("p",null,"That last sentence should be very familiar to anyone who has been around Bitcoin\nfor a minute, for it is fundamental to robust ",(0,i.kt)("em",{parentName:"p"},"key")," management:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Single Sig Tx : Multisig :: Single Bitcoin Node : HAB Node")),(0,i.kt)("p",null,"Rubber hits the road time, is this doable?"),(0,i.kt)("p",null,"Yes. It\u2019s done."),(0,i.kt)("p",null,"And this project is proof positive that it ",(0,i.kt)("a",{parentName:"p",href:"/poc"},"works"),", explains ",(0,i.kt)("a",{parentName:"p",href:"/why"},"why"),"\nyou should do it to, and shows you ",(0,i.kt)("a",{parentName:"p",href:"/how"},"how"),"."))}p.isMDXComponent=!0},2107:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/apple_vs_amazon-ed98bc35df01038d5e292d1955623a72.png"},2870:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/intro_reveal-78f6b20b1f03c623e15866c14dda4aa9.png"}}]);